<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1314&amp;path=livereload" data-no-instant defer></script>
<title>Yet another Simpson&#39;s Paradox post - Stephen Malina</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="description"
    content="An intuitive explanation of Simpson&#39;s Paradox using extreme examples to make the statistical phenomenon more understandable, with a hypothetical comparison between two countries&#39; sports injury rates. ">
<link rel="canonical" href="http://localhost:1314/post/2019-12-13-alternative-explanation-of-simpsons-paradox/" />



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/1.1.0/modern-normalize.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />



<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link rel="preload" as="style"
      href="https://fonts.googleapis.com/css?family=Noto+Serif+SC|Noto+Emoji&display=swap" />
<link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Serif+SC|Noto+Emoji&display=swap"
      media="print" onload="this.media='all'" />
<noscript>
<link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Serif+SC&display=swap" />
</noscript>


  
  
    
      <link rel="stylesheet" href="http://localhost:1314/css/hugo-tufte.min.css">
    
  



  
  
    
      <link rel="stylesheet" href="http://localhost:1314/css/hugo-tufte-options.min.css">
    
  


<link rel="stylesheet" href="http://localhost:1314/css/hugo-tufte-override.css">

</head>
<body>


<article id="main">
  <section>
<h1 class="content-title">Yet another Simpson&#39;s Paradox post&nbsp;:: Draft</h1></section>

  

  <section><h2 id="intro">
Intro
<a href="#intro" class="heading-anchor">#</a>
</h2>
<p>Simpson&rsquo;s paradox is a phenomenon in statistics where a choice or treatment performs better in all sub-populations but worse in the overall population. Since first learning of Simpson&rsquo;s Paradox, I&rsquo;ve struggled to develop a gut-level understanding that lets me easily detect cases of it and clearly explain its cause. This is even after reading <a href="http://michaelnielsen.org/reinventing_explanation/index.html">Michael Nielsen&rsquo;s wonderful post</a> that provides a number of different ways of thinking about it and Judea Pearl&rsquo;s <a href="https://ftp.cs.ucla.edu/pub/stat_ser/r414.pdf">fascinating analysis of it</a> from a causality perspective. In this post, I describe an example and intuitions that finally led to me (seemingly) grokking Simpson&rsquo;s paradox.</p>
<h2 id="the-parable-of-murderball-and-tea-party">
The Parable of Murderball and Tea Party
<a href="#the-parable-of-murderball-and-tea-party" class="heading-anchor">#</a>
</h2>
<p>Imagine we learn of a hypothetical world in which there are two countries named Gentlantis and Rageopolis. Both countries have populations of 1,000,000 people. Further, in both countries, every single individual plays one of two sports (exclusively): Murderball or Tea party. Rageopolis&rsquo;s residents love Murderball so 99.99% ($ 999,900 / 1,000,000 $) prefer it to Tea Party. On the other hand, the Genglantians love Tea Party and don&rsquo;t care for Murderball&rsquo;s complex rule system and drawn out games, so 99% (990,000/1,000,000) play Tea Party.</p>
<p>From the name, you might guess that Murderball has a much higher injury rate than Tea Party - every year, 99% of people who play Murderball get injured, compared to only 2% of annual Tea Party players. As a result, we can summarize the sports injury numbers and rates in the respective countries as follows.</p>
<p>{.table}</p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">Country</th>
          <th style="text-align: center">Murderball Players / Injuries</th>
          <th style="text-align: center">Tea Party Players / Injuries</th>
          <th style="text-align: center">Overall Injuries and Rate</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">Rageopolis</td>
          <td style="text-align: center">999,900 / 989,901</td>
          <td style="text-align: center">100 / 2</td>
          <td style="text-align: center">989,902 / 99%</td>
      </tr>
      <tr>
          <td style="text-align: center">Gentlantis</td>
          <td style="text-align: center">10000 / 9900</td>
          <td style="text-align: center">990,000 / 19,800</td>
          <td style="text-align: center">19,800 / 3%</td>
      </tr>
  </tbody>
</table>
<p>As you can see, Rageopolis has a sports injury epidemic. Around 999,000 Rageopolans get hurt every year playing sports. This makes Rageopolis&rsquo;s politicians look bad when the UN compares their injury rate to Gentlantis&rsquo;s approximately 3%.</p>
<p>Technically, this is not yet an instance of Simpson&rsquo;s paradox since the two games have the same injury rate in both countries. But now, say Rageopolis&rsquo;s government decides they&rsquo;re tired of looking bad compared to Gentlantis and enacts a strict law that required anyone playing either sport to wear a helmet. Lo and behold, the law succeeds beyond anyone&rsquo;s wildest expectation, the Murderball and Tea Party injury rates halve in Rageopolis dropping from 99.99% and 2% to 49.99% and 1% respectively. The UN releases their report for the year and it contains the following numbers.</p>
<p>{.table}</p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">Country</th>
          <th style="text-align: center">Murderball Players / Injuries</th>
          <th style="text-align: center">Tea Party Players / Injuries</th>
          <th style="text-align: center">Overall Injuries and Rate</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">Rageopolis</td>
          <td style="text-align: center">999,900 / 485100</td>
          <td style="text-align: center">100 / 1</td>
          <td style="text-align: center">989,902 / 49%</td>
      </tr>
      <tr>
          <td style="text-align: center">Gentlantis</td>
          <td style="text-align: center">10000 / 9900</td>
          <td style="text-align: center">990,000 / 19,800</td>
          <td style="text-align: center">19,800 / 2%</td>
      </tr>
  </tbody>
</table>
<p>Observe that even though both games are much safer in Rageopolis than Gentlantis, Rageopolis still has an order-of-magnitude more sports injuries. Although it may not feel like it, since it might seem obvious when presented this way, this is an example of Simpson&rsquo;s paradox. Rageopolis residents who play both sports get hurt at much lower rates than Gentlantians yet Rageopolans get hurt playing sports at a much higher rate overall.</p>
<h2 id="hypothesis-about-intuitiveness">
Hypothesis about intuitiveness
<a href="#hypothesis-about-intuitiveness" class="heading-anchor">#</a>
</h2>
<p>When I initially came up with this example, it felt much more obvious to me than other examples of Simpson&rsquo;s paradox. I suspect this results from two major features of the example:</p>
<ol>
<li>
<p>It can be described qualitatively in a way that fits with my (and presumably others&rsquo; intuition). More specifically, I claim that if I describe the above hypothetical without any numbers as follows,</p>
<blockquote>
<p>There are two countries, Rageopolis and Gentlantis. The same number of people play sports in both. But, in Rageopolis the vast majority of people play a super dangerous game, whereas the vast majority of people in Gentlantis play a super safe game. Naturally, Rageopolis has a much higher sports injury rate. If Rageopolis makes both games somewhat but not an order-of-magnitude safer, which country will have a lower injury rate?</p></blockquote>
<p>most people would still give the right answer (Rageopolis).</p>
</li>
<li>
<p>Using big numbers and extreme class imbalances makes the difference between overall rate and per-class rates obvious in a way it&rsquo;s not when the differences are relatively small. It&rsquo;s hard for me to even describe, but for whatever reason, past some certain threshold of class imbalance (satisfied by the example above), Simpson&rsquo;s Paradox goes from feeling like a paradox to an obvious fact.</p>
</li>
</ol>
<h2 id="unit-testing-intuition">
Unit testing intuition
<a href="#unit-testing-intuition" class="heading-anchor">#</a>
</h2>
<p>To verify that the above example actually helps make sense of Simpson&rsquo;s Paradox in other examples, let&rsquo;s see if it can help us grok the first example from Nielsen&rsquo;s post.</p>
<p>The first example Nielsen&rsquo;s describes is a situation in which there are two treatments for kidney stones, A and B, and treatment B works better on patients with large and small kidney stones but worse overall. Copying over his table, the hypothetical data is as follows.</p>
<p>{.table}</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Group</th>
          <th style="text-align: left">Treatment A helps</th>
          <th style="text-align: left">Treatment B helps</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Large kidney stones</td>
          <td style="text-align: left">69% (55 / 80)</td>
          <td style="text-align: left">73% (192 / 263)</td>
      </tr>
      <tr>
          <td style="text-align: left">Small kidney stones</td>
          <td style="text-align: left">87% (234 / 270)</td>
          <td style="text-align: left">93% (81 / 87)</td>
      </tr>
      <tr>
          <td style="text-align: left">All patients</td>
          <td style="text-align: left">83% (289 / 350)</td>
          <td style="text-align: left">78% (273 / 350)</td>
      </tr>
  </tbody>
</table>
<p>(I&rsquo;m embarrassed to admit that, before coming up with the Rageopolis / Gentlantis example, and even after reading Nielsen&rsquo;s post twice, I still had to spend a good amount of time reminding myself how the above combination was possible.)</p>
<p>The puzzle here is figuring out how one treatment can be better for both groups individually but worse overall and, ideally which treatment would be better to accept as a patient. As a starting point, let&rsquo;s analogize this example to the Murder Ball one. There are two divisions in this example, treatment group and kidney stone size. We want to relate these to the two divisions from our above example, nationality and preferred sport. Rates were measured by treatment group, so it seems like treatment groups are analogous to countries in our example. This means that kidney stone size should be analogous to preferred sport.</p>
<p>Following our above example, the next step that comes to mind is to see whether things become more obvious when we increase the imbalance between the two kidney stone size groups. Looking at the table, large kidney stone people seem to have worse outcomes overall, similar to Murderball players. So, let&rsquo;s imagine that instead of having 80 vs. 263 large kidney stone people receiving treatments A and B respectively we have 10 and 340. Let&rsquo;s also imagine that treatment A helps 10% of large kidney stone people and treatment B helps 20% of large kidney stone people. Then, we should also adjust the small kidney stone groups accordingly to contain 340 and 10 people with help rates of 45% and 90% respectively. The following table summarizes the results with these updated numbers.</p>
<p>{.table}</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Group</th>
          <th style="text-align: left">Treatment A helps</th>
          <th style="text-align: left">Treatment B helps</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Large kidney stones</td>
          <td style="text-align: left">10% (1 / 10)</td>
          <td style="text-align: left">20% (68 / 340)</td>
      </tr>
      <tr>
          <td style="text-align: left">Small kidney stones</td>
          <td style="text-align: left">45% (153 / 340)</td>
          <td style="text-align: left">90% (9 / 10)</td>
      </tr>
      <tr>
          <td style="text-align: left">All patients</td>
          <td style="text-align: left">44% (154 / 340)</td>
          <td style="text-align: left">.22% (77 / 350)</td>
      </tr>
  </tbody>
</table>
<p>Looking at this table, I&rsquo;m again left feeling feeling like the paradox has mostly dissolved. From the information we have, it seems like large kidney stone people just have much worse outcomes overall and that the treatment B group&rsquo;s overall help rate reflects that. Related to that, it seems like treatment B works better than treatment A, although we should probably be somewhat suspicious of these results given that the selection process produced such imbalanced classes in the first place.</p>
<h2 id="conclusion">
Conclusion
<a href="#conclusion" class="heading-anchor">#</a>
</h2>
<p>Part of the reason learning technical material is hard is because different ways of explaining things work for different people (note that I&rsquo;m not claiming anything like &ldquo;learning styles&rdquo; or &ldquo;multiple intelligences&rdquo;, since my impression is that both of those hypotheses have mostly failed to replicate). Beyond clarifying my own intuition, I hope that perhaps this post can help at least one person who is as confused about Simpson&rsquo;s Paradox as I was become less confused.</p>
</section>
  <section><footer class="page-footer">
<hr />

<div class="previous-post" style="display:inline-block;">
  
  <a class="link-reverse" href="http://localhost:1314/learning/2019-12-12-all-of-statistics-ch3-notes/?ref=footer">« All of Statistics - Chapter 3</a>
  
</div>

<div class="next-post", style="display:inline-block;float:right;">
  
  <a class="link-reverse" href="http://localhost:1314/post/2020-01-10-farewell-pa/?ref=footer">Goodbye, Grandpa »</a>
  
</div>

<ul class="page-footer-menu">
  
  
  <li><a href="https://twitter.com/an1lam">Twitter</a></li>
  
  
  

  
  <li><a href="https://github.com/an1lam">GitHub</a></li>
  

  

  

  

  

  

  

  

  

  

  
  <li><a href="https://scholar.google.com/citations?user=Q6_3PJEAAAAJ">Google Scholar</a></li>
  
  
  
    <li><a href="https://github.com/an1lam"><i class='fa fa-github fa-2x'></i>  </a></li>
  
    <li><a href="https://twitter.com/an1lam"><i class='fa fa-twitter fa-2x'></i>  </a></li>
  
    <li><a href="mailto:stephenmalina@gmail.com"><i class='fa fa-envelope fa-2x'></i>  </a></li>
  
    <li><a href="https://stackoverflow.com/users/1631855/an1lam"><i class='fa fa-stack-overflow fa-2x'></i>  </a></li>
  
</ul>


<p>
  Powered by <a href="https://gohugo.io">Hugo</a> and the
  <a href="https://github.com/loikein/hugo-tufte">Tufte theme</a>.
</p>




</footer>
</section>
  <section><nav class="menu">
    <ul>
    
        <li><a href="http://localhost:1314/">Home</a></li>
    
        <li><a href="http://localhost:1314/about">About</a></li>
    
        <li><a href="http://localhost:1314/post">Post</a></li>
    
        <li><a href="http://localhost:1314/bets">Bets</a></li>
    
        <li><a href="http://localhost:1314/greatest-hits">Greatest Hits</a></li>
    
        <li><a href="http://localhost:1314/tags">Tags</a></li>
    
    </ul>
</nav>
</section>
</article>







  <script>(function(){var e,t,n,s=document.getElementsByTagName("code");for(n=0;n<s.length;){if(t=s[n],t.parentNode.tagName!=="PRE"&&t.childElementCount===0&&!t.classList.contains("nolatex")&&(e=t.textContent,/^\$[^$]/.test(e)&&/[^$]\$$/.test(e)&&(e=e.replace(/^\$/,"\\(").replace(/\$$/,"\\)"),t.textContent=e),/^\\\((.|\s)+\\\)$/.test(e)||/^\\\[(.|\s)+\\\]$/.test(e)||/^\$(.|\s)+\$$/.test(e)||/^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(e))){t.outerHTML=t.innerHTML;continue}n++}})()</script>


<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" crossorigin="anonymous">
<script defer src="//cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" crossorigin="anonymous"></script>
<script defer src="//cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" crossorigin="anonymous"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            
            
            
            
            
            
            trust: (context) => ['\\htmlId', '\\href'].includes(context.command),
            macros: {
              "\\eqref": "\\href{###1}{(\\text{#1})}",
              "\\ref": "\\href{###1}{\\text{#1}}",
              "\\label": "\\htmlId{#1}{}"
            }
        });
    });
</script>



</body>

</html>
